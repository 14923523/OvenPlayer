/*! For license information please see ovenplayer.provider.DashProvider-0.9.597.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{135:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r){var i=t?1e3:1024;if(Math.abs(e)<i)return e+" B";var o=r||"B",a=["k"+o,"M"+o,"G"+o,"T"+o,"P"+o,"E"+o,"Z"+o,"Y"+o],n=-1;do{e/=i,++n}while(Math.abs(e)>=i&&n<a.length-1);return e.toFixed(1)+a[n]}},74:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(r(314)),o=r(304),a=u(r(135)),n=r(1);function u(e){return e&&e.__esModule?e:{default:e}}var l="download",s="manifestError";t.default=function(e,t,r){var u={},d=null,y=null,c=null,A=0,f=!1,E=!1,v=!1;try{var h=function(e){dashjs.Version>"2.9.0"?d.setAutoSwitchQualityFor("video",e):d.setAutoSwitchQualityFor(e)},T=function(){return dashjs.Version>"2.9.0"?d.getAutoSwitchQualityFor("video"):d.getAutoSwitchQualityFor()};if(d=dashjs.MediaPlayer().create(),dashjs.Version<"2.6.5")throw n.ERRORS[n.INIT_DASH_UNSUPPORT];d.getDebug().setLogToBrowserConsole(!1),d.initialize(e,null,!1);var g={name:n.PROVIDER_DASH,element:e,mse:d,listener:null,canSeek:!1,isLive:!1,seeking:!1,state:n.STATE_IDLE,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:r};u=(0,i.default)(g,t,function(e,t){OvenPlayerConsole.log("DASH : onExtendedLoad : ",e,"lastPlayPosition : "+t),h(!0),d.attachSource(e.file),A=t}),y=u.super("play"),c=u.super("destroy"),OvenPlayerConsole.log("DASH PROVIDER LOADED."),d.on(dashjs.MediaPlayer.events.ERROR,function(e){if(e&&!f&&(e.error===l||e.error===s)){f=!0;var t=n.ERRORS[n.PLAYER_UNKNWON_NEWWORK_ERROR];t.error=e,(0,o.errorTrigger)(t,u)}}),d.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(e){e&&e.mediaType&&"video"===e.mediaType&&u.trigger(n.CONTENT_LEVEL_CHANGED,{isAuto:T(),currentQuality:g.currentQuality,type:"request"})}),d.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(e){e&&e.mediaType&&"video"===e.mediaType&&(g.currentQuality=e.newQuality,u.trigger(n.CONTENT_LEVEL_CHANGED,{isAuto:T(),currentQuality:e.newQuality,type:"render"}))}),d.on(dashjs.MediaPlayer.events.PLAYBACK_METADATA_LOADED,function(e){OvenPlayerConsole.log("GetStreamInfo  : ",d.getQualityFor("video"),d.getBitrateInfoListFor("video"),d.getBitrateInfoListFor("video")[d.getQualityFor("video")]),console.log("PLAYBACK_METADATA_LOADED"),E=!0;var r=d.getBitrateInfoListFor("video");g.currentQuality=d.getQualityFor("video");for(var i=0;i<r.length;i++)g.qualityLevels.push({bitrate:r[i].bitrate,height:r[i].height,width:r[i].width,index:r[i].qualityIndex,label:r[i].width+"x"+r[i].height+", "+(0,a.default)(r[i].bitrate,!0,"bps")});d.isDynamic(),A&&(d.seek(A),t.isAutoStart()||u.play()),t.isAutoStart()&&!v&&(u.play(),v=!0)}),u.play=function(){E=!1,d.attachView(e);var t=0;!function e(){t++,E?y():t<300?setTimeout(e,100):u.play()}()},u.setCurrentQuality=function(e){return u.getState()!==n.STATE_PLAYING&&u.play(),g.currentQuality=e,T()&&h(!1),d.setQualityFor("video",e),g.currentQuality},u.isAutoQuality=function(){return T()},u.setAutoQuality=function(e){h(e)},u.destroy=function(){d.reset(),OvenPlayerConsole.log("DASH : PROVIDER DESTROYED."),c()}}catch(e){if(e&&e.code&&e.code===n.INIT_DASH_UNSUPPORT)throw e;var _=n.ERRORS[n.INIT_DASH_NOTFOUND];throw _.error=e,_}return u}}}]);