/*! For license information please see ovenplayer.provider.DashProvider.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r){var i=t?1e3:1024;if(Math.abs(e)<i)return e+" B";var o=r||"B",a=["k"+o,"M"+o,"G"+o,"T"+o,"P"+o,"E"+o,"Z"+o,"Y"+o],n=-1;do{e/=i,++n}while(Math.abs(e)>=i&&n<a.length-1);return e.toFixed(1)+a[n]}},99:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(r(394)),o=r(393),a=u(r(206)),n=r(1);function u(e){return e&&e.__esModule?e:{default:e}}var l="download",s="manifestError";t.default=function(e,t,r){var u={},d=null,y=null,c=0,E=!1;try{var f=function(e){dashjs.Version>"2.9.0"?d.setAutoSwitchQualityFor("video",e):d.setAutoSwitchQualityFor(e)},v=function(){return dashjs.Version>"2.9.0"?d.getAutoSwitchQualityFor("video"):d.getAutoSwitchQualityFor()};if(d=dashjs.MediaPlayer().create(),dashjs.Version<"2.6.5")throw n.ERRORS[103];d.getDebug().setLogToBrowserConsole(!1),d.initialize(e,null,!1);var h={name:n.PROVIDER_DASH,element:e,mse:d,listener:null,canSeek:!1,isLive:!1,seeking:!1,state:n.STATE_IDLE,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:r};u=(0,i.default)(h,t,function(e,t){OvenPlayerConsole.log("DASH : onExtendedLoad : ",e,"lastPlayPosition : "+t),f(!0),d.attachSource(e.file),c=t}),y=u.super("destroy"),OvenPlayerConsole.log("DASH PROVIDER LOADED."),d.on(dashjs.MediaPlayer.events.ERROR,function(e){if(e&&!E&&(e.error===l||e.error===s)){E=!0;var t=n.ERRORS[n.PLAYER_UNKNWON_NEWWORK_ERROR];t.error=e,(0,o.errorTrigger)(t,u)}}),d.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(e){e&&e.mediaType&&"video"===e.mediaType&&u.trigger(n.CONTENT_LEVEL_CHANGED,{isAuto:v(),currentQuality:h.currentQuality,type:"request"})}),d.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(e){e&&e.mediaType&&"video"===e.mediaType&&(h.currentQuality=e.newQuality,u.trigger(n.CONTENT_LEVEL_CHANGED,{isAuto:v(),currentQuality:e.newQuality,type:"render"}))}),u.on(n.CONTENT_META,function(e){OvenPlayerConsole.log("GetStreamInfo  : ",d.getQualityFor("video"),d.getBitrateInfoListFor("video"),d.getBitrateInfoListFor("video")[d.getQualityFor("video")]);var r=d.getBitrateInfoListFor("video");h.currentQuality=d.getQualityFor("video");for(var i=0;i<r.length;i++)h.qualityLevels.push({bitrate:r[i].bitrate,height:r[i].height,width:r[i].width,index:r[i].qualityIndex,label:r[i].width+"x"+r[i].height+", "+(0,a.default)(r[i].bitrate,!0,"bps")});d.isDynamic(),c&&(d.seek(c),t.isAutoStart()||u.play()),t.isAutoStart()&&u.play()},u),u.setCurrentQuality=function(e){return u.getState()!==n.STATE_PLAYING&&u.play(),h.currentQuality=e,v()&&f(!1),d.setQualityFor("video",e),h.currentQuality},u.isAutoQuality=function(){return v()},u.setAutoQuality=function(e){f(e)},u.destroy=function(){d.reset(),OvenPlayerConsole.log("DASH : PROVIDER DESTROYED."),y()}}catch(e){throw e.code&&e.message?e:new Error(e)}return u}}}]);