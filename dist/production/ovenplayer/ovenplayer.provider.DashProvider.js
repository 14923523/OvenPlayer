/*! For license information please see ovenplayer.provider.DashProvider.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r){var i=t?1e3:1024;if(Math.abs(e)<i)return e+" B";var a=r||"B",o=["k"+a,"M"+a,"G"+a,"T"+a,"P"+a,"E"+a,"Z"+a,"Y"+a],n=-1;do{e/=i,++n}while(Math.abs(e)>=i&&n<o.length-1);return e.toFixed(1)+o[n]}},95:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(r(385)),a=r(384),o=u(r(200)),n=r(2);function u(e){return e&&e.__esModule?e:{default:e}}var l="download",s="manifestError";t.default=function(e,t,r){var u={},d=null,y=null,c=0,E=!1;try{(d=dashjs.MediaPlayer().create()).getDebug().setLogToBrowserConsole(!1),d.initialize(e,null,!1);var f={name:n.PROVIDER_DASH,extendedElement:d,listener:null,canSeek:!1,isLive:!1,seeking:!1,state:n.STATE_IDLE,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTag:r};u=(0,i.default)(f,t,function(e,t){OvenPlayerConsole.log("DASH : onExtendedLoad : ",e,"lastPlayPosition : "+t),d.setAutoSwitchQuality(!0),d.attachSource(e.file),c=t}),y=u.super("destroy"),OvenPlayerConsole.log("DASH PROVIDER LOADED."),d.on(dashjs.MediaPlayer.events.ERROR,function(e){if(e&&!E&&(e.error===l||e.error===s)){E=!0;var t=n.ERRORS[n.PLAYER_UNKNWON_NEWWORK_ERROR];t.error=e,(0,a.errorTrigger)(t,u)}}),d.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(e){e&&e.mediaType&&"video"===e.mediaType&&u.trigger(n.CONTENT_LEVEL_CHANGED,{isAuto:d.getAutoSwitchQuality(),currentQuality:f.currentQuality,type:"request"})}),d.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(e){e&&e.mediaType&&"video"===e.mediaType&&(f.currentQuality=e.newQuality,u.trigger(n.CONTENT_LEVEL_CHANGED,{isAuto:d.getAutoSwitchQuality(),currentQuality:e.newQuality,type:"render"}))}),u.on(n.CONTENT_META,function(e){OvenPlayerConsole.log("GetStreamInfo  : ",d.getQualityFor("video"),d.getBitrateInfoListFor("video"),d.getBitrateInfoListFor("video")[d.getQualityFor("video")]);var t=d.getBitrateInfoListFor("video");f.currentQuality=d.getQualityFor("video");for(var r=0;r<t.length;r++)f.qualityLevels.push({bitrate:t[r].bitrate,height:t[r].height,width:t[r].width,index:t[r].qualityIndex,label:t[r].width+"x"+t[r].height+", "+(0,o.default)(t[r].bitrate,!0,"bps")});d.isDynamic()?u.play():c&&(d.seek(c),u.play())},u),u.setCurrentQuality=function(e){return u.getState()!==n.STATE_PLAYING&&u.play(),f.currentQuality=e,d.getAutoSwitchQuality()&&d.setAutoSwitchQuality(!1),d.setQualityFor("video",e),f.currentQuality},u.isAutoQuality=function(){return d.getAutoSwitchQuality()},u.setAutoQuality=function(e){d.setAutoSwitchQuality(e)},u.destroy=function(){d.reset(),OvenPlayerConsole.log("DASH : PROVIDER DESTROYED."),y()}}catch(e){throw new Error(e)}return u}}}]);